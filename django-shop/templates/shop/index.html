{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—ñ–π –ú–∞–≥–∞–∑–∏–Ω - –ü–æ–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è</title>
    <meta name="description" content="–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö —Ç–∞ –æ–±—Ä–æ–±–∫–æ—é –∑–∞–º–æ–≤–ª–µ–Ω—å">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
<!-- –ü–ª–∞–≤–∞—é—á—ñ –±—ñ–ª—ñ —à–∞—Ä–∏ -->
<div class="floating-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
    <div class="shape shape-5"></div>
</div>

<!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç—É -->
<header class="header">
    <nav class="navbar">
        <div class="nav-brand">
            <h1>–ú—ñ–π –ú–∞–≥–∞–∑–∏–Ω - –ü–û–í–ù–ê –í–ï–†–°–Ü–Ø</h1>
        </div>
        <div class="nav-actions">
            <button class="b2b-button">B2B</button>
            <a href="{% url 'cart' %}" class="cart-icon">
                <span class="cart-icon-symbol">üõí</span>
                <span class="cart-count" id="cart-count">0</span>
            </a>
        </div>
    </nav>
</header>

<!-- –°—Ç–∞—Ç—É—Å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
<div style="background: linear-gradient(45deg, #4ecdc4, #45b7d1); padding: 20px; text-align: center; color: white; font-weight: bold; font-size: 1.2rem;">
    üõí –ü–û–í–ù–û–¶–Ü–ù–ù–ò–ô –ú–ê–ì–ê–ó–ò–ù - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö, –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å, –æ–±—Ä–æ–±–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å
</div>

<!-- –ì–æ–ª–æ–≤–Ω–∞ —Å–µ–∫—Ü—ñ—è –∑ —Ç–æ–≤–∞—Ä–∞–º–∏ -->
<section id="home" class="section hero-section">
    <h2 class="section-title">–ù–∞—à—ñ —Ç–æ–≤–∞—Ä–∏</h2>
    <div class="products-grid">
        {% for product in products %}
        <div class="product-card">
            <div class="product-image-container">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
            </div>
            <div class="product-info">
                <h3 class="product-title">{{ product.name }}</h3>
                <p class="product-description">{{ product.description|truncatewords:20 }}</p>
                <div class="product-price-container">
                    <span class="product-price">{{ product.price }} –≥—Ä–Ω</span>
                    <button class="add-to-cart-btn" onclick="addToCart({{ product.id }})">
                        –î–æ–¥–∞—Ç–∏ –≤ –∫–æ—à–∏–∫
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- –°–µ–∫—Ü—ñ—è "–ü—Ä–æ –Ω–∞—Å" -->
<section id="about" class="section">
    <h2 class="section-title">–ü—Ä–æ –Ω–∞—Å</h2>
    <div class="about-grid">
        <div class="about-text">
            <p>
                –ú–∏ - –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ 
                –¥–ª—è —Å—É—á–∞—Å–Ω–æ–≥–æ –∂–∏—Ç—Ç—è. –ù–∞—à–∞ –º—ñ—Å—ñ—è - –∑—Ä–æ–±–∏—Ç–∏ –≤–∞—à –¥–æ—Å–≤—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è 
                –Ω–∞—à–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –Ω–µ–∑–∞–±—É—Ç–Ω—ñ–º.
            </p>
            <p>
                –ó –ø–æ–Ω–∞–¥ 10 —Ä–æ–∫–∞–º–∏ –¥–æ—Å–≤—ñ–¥—É –≤ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó, –º–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ –≤–¥–æ—Å–∫–æ–Ω–∞–ª—é—î–º–æ 
                –Ω–∞—à—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ —Ç–∞ –ø–æ—Å–ª—É–≥–∏, —â–æ–± –∑–∞–¥–æ–≤–æ–ª—å–Ω–∏—Ç–∏ –Ω–∞–π–≤–∏—â—ñ –≤–∏–º–æ–≥–∏ –Ω–∞—à–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤.
            </p>
        </div>
        <div class="about-features">
            <div class="feature">
                <h3>–Ø–∫—ñ—Å—Ç—å</h3>
                <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –Ω–∞–π–∫—Ä–∞—â—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Ç–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</p>
            </div>
            <div class="feature">
                <h3>–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å</h3>
                <p>–ù–∞—à—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ —á–∞—Å–æ–º —Ç–∞ —Ç–∏—Å—è—á–∞–º–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤</p>
            </div>
            <div class="feature">
                <h3>–Ü–Ω–Ω–æ–≤–∞—Ü—ñ—ó</h3>
                <p>–ü–æ—Å—Ç—ñ–π–Ω–æ —Ä–æ–∑–≤–∏–≤–∞—î–º–æ—Å—è —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î–º–æ –Ω–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è</p>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü—ñ—è "–ü–æ—Å–ª—É–≥–∏" -->
<section id="services" class="section">
    <h2 class="section-title">–ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏</h2>
    <div class="services-grid">
        <div class="service-card">
            <span class="service-icon">üöö</span>
            <h3>–®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
            <p>–î–æ—Å—Ç–∞–≤–ª—è—î–º–æ –≤–∞—à—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ –Ω–∞–π–∫–æ—Ä–æ—Ç—à—ñ —Ç–µ—Ä–º—ñ–Ω–∏ –ø–æ –≤—Å—ñ–π –∫—Ä–∞—ó–Ω—ñ</p>
        </div>
        <div class="service-card">
            <span class="service-icon">üõ†Ô∏è</span>
            <h3>–¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</h3>
            <p>–ù–∞–¥–∞—î–º–æ –ø–æ–≤–Ω—É —Ç–µ—Ö–Ω—ñ—á–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó</p>
        </div>
        <div class="service-card">
            <span class="service-icon">üíé</span>
            <h3>–ü—Ä–µ–º—ñ—É–º —è–∫—ñ—Å—Ç—å</h3>
            <p>–ì–∞—Ä–∞–Ω—Ç—É—î–º–æ –≤–∏—Å–æ–∫—É —è–∫—ñ—Å—Ç—å –≤—Å—ñ—Ö –Ω–∞—à–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤</p>
        </div>
        <div class="service-card">
            <span class="service-icon">üéØ</span>
            <h3>–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥</h3>
            <p>–ö–æ–∂–µ–Ω –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º—É—î –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ —Ç–∞ —É–≤–∞–≥—É</p>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü—ñ—è "–ö–æ–Ω—Ç–∞–∫—Ç–∏" -->
<section id="contact" class="section">
    <h2 class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
    <div class="contact-grid">
        <div class="contact-info">
            <h3>–ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏</h3>
            <p>
                –ú–∞—î—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ —Ö–æ—á–µ—Ç–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ –Ω–∞—à—ñ –ø—Ä–æ–¥—É–∫—Ç–∏? 
                –ú–∏ –∑–∞–≤–∂–¥–∏ —Ä–∞–¥—ñ –¥–æ–ø–æ–º–æ–≥—Ç–∏ —Ç–∞ –Ω–∞–¥–∞—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
            </p>
            <div class="contact-item">
                <span class="contact-icon">üìû</span>
                <div>
                    <h4>–¢–µ–ª–µ—Ñ–æ–Ω</h4>
                    <p>+380 (XX) XXX-XX-XX</p>
                </div>
            </div>
            <div class="contact-item">
                <span class="contact-icon">‚úâÔ∏è</span>
                <div>
                    <h4>Email</h4>
                    <p>info@example.com</p>
                </div>
            </div>
            <div class="contact-item">
                <span class="contact-icon">üìç</span>
                <div>
                    <h4>–ê–¥—Ä–µ—Å–∞</h4>
                    <p>–º. –ö–∏—ó–≤, –≤—É–ª. –ü—Ä–∏–∫–ª–∞–¥–Ω–∞, 123</p>
                </div>
            </div>
        </div>
        <div class="contact-form">
            <form method="post" action="{% url 'contact' %}">
                {% csrf_token %}
                <div class="form-group">
                    <input type="text" name="name" placeholder="–í–∞—à–µ —ñ–º'—è" required>
                </div>
                <div class="form-group">
                    <input type="email" name="email" placeholder="–í–∞—à email" required>
                </div>
                <div class="form-group">
                    <input type="tel" name="phone" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω">
                </div>
                <div class="form-group">
                    <textarea name="message" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
            </form>
        </div>
    </div>
</section>

<script src="{% static 'js/main.js' %}"></script>
<script>
// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –≤ –∫–æ—à–∏–∫
function addToCart(productId) {
    fetch('{% url "add_to_cart" %}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}'
        },
        body: JSON.stringify({
            product_id: productId,
            quantity: 1
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('–¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –≤ –∫–æ—à–∏–∫!');
            updateCartCount();
        } else {
            alert('–ü–æ–º–∏–ª–∫–∞: ' + data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É –≤ –∫–æ—à–∏–∫');
    });
}

// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –∫–æ—à–∏–∫–∞
function updateCartCount() {
    // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ AJAX –∑–∞–ø–∏—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—ñ–≤ –≤ –∫–æ—à–∏–∫—É
    const cartCount = document.getElementById('cart-count');
    if (cartCount) {
        cartCount.style.display = 'flex';
        cartCount.textContent = '1'; // –¢–∏–º—á–∞—Å–æ–≤–æ, –ø–æ—Ç—ñ–º –∑—Ä–æ–±–∏—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º
    }
}
</script>
</body>
</html>
